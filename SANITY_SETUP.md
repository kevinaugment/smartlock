# Sanity CMS é›†æˆæŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–ï¼ˆç½‘ç»œå¥½çš„æ—¶å€™è¿è¡Œï¼‰

```bash
npm install --save sanity @sanity/vision sanity-plugin-markdown @portabletext/react
npm install --save-dev @sanity/types
```

### 2. åˆ›å»ºSanityé¡¹ç›®

è®¿é—® https://www.sanity.io/manage å¹¶ï¼š
1. åˆ›å»ºæ–°é¡¹ç›®
2. è®°å½•ä¸‹ Project ID
3. åˆ›å»º datasetï¼ˆæ¨èåç§°ï¼šproductionï¼‰

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
PUBLIC_SANITY_PROJECT_ID=ä½ çš„é¡¹ç›®ID
PUBLIC_SANITY_DATASET=production
PUBLIC_SANITY_API_VERSION=2024-01-01
SANITY_API_TOKEN=ä½ çš„APIä»¤ç‰Œ
```

### 4. è¿è¡Œè¿ç§»è„šæœ¬

```bash
# è¿ç§»æ‰€æœ‰48ç¯‡æ–‡ç« åˆ°Sanity
node scripts/migrate-to-sanity.js
```

### 5. å¯åŠ¨Sanity Studio

```bash
# åœ¨æ–°ç»ˆç«¯çª—å£è¿è¡Œ
npx sanity start
```

è®¿é—® http://localhost:3333 æŸ¥çœ‹ç®¡ç†åå°

### 6. å¯åŠ¨Astroå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
smartlock/
â”œâ”€â”€ sanity/
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ article.ts      # æ–‡ç« Schema
â”‚   â”‚   â”œâ”€â”€ category.ts     # åˆ†ç±»Schema
â”‚   â”‚   â”œâ”€â”€ calculator.ts   # è®¡ç®—å™¨Schema
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ client.ts       # Sanityå®¢æˆ·ç«¯
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ migrate-to-sanity.js  # è¿ç§»è„šæœ¬
â”œâ”€â”€ sanity.config.ts          # Sanityé…ç½®
â””â”€â”€ astro.config.mjs          # Astroé…ç½®ï¼ˆå·²æ›´æ–°ï¼‰
```

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ–‡ç« ç®¡ç†
- âœ… Markdownç¼–è¾‘å™¨
- âœ… å®æ—¶é¢„è§ˆ
- âœ… ç‰ˆæœ¬å†å²
- âœ… å¤šäººåä½œ
- âœ… å›¾ç‰‡ä¸Šä¼ åˆ°CDN
- âœ… å…³è”æ–‡ç« å’Œè®¡ç®—å™¨

### åˆ†ç±»ç³»ç»Ÿ
- 7å¤§Hubï¼šåè®®ã€å®‰å…¨ã€ç”µæ± ã€æ•…éšœã€ç§Ÿèµã€ä¼ä¸šã€æŒ‡å—
- è‡ªå®šä¹‰å›¾æ ‡å’Œæè¿°

### è®¡ç®—å™¨é›†æˆ
- 15ä¸ªå·¥å…·é¡µé¢
- å…³è”åˆ°ç›¸å…³æ–‡ç« 

## ğŸ”„ è¿ç§»çŠ¶æ€

è¿ç§»è„šæœ¬ä¼šï¼š
1. âœ… è¯»å–48ä¸ªMDXæ–‡ä»¶
2. âœ… æå–frontmatterå’Œå†…å®¹
3. âœ… åˆ›å»ºå¯¹åº”çš„Sanityæ–‡æ¡£
4. âœ… å»ºç«‹åˆ†ç±»å…³ç³»
5. âœ… å…³è”è®¡ç®—å™¨
6. âœ… ä¿ç•™URLç»“æ„

## ğŸ“Š æ•°æ®ç»Ÿè®¡

- 48ç¯‡æ–‡ç« å¾…è¿ç§»
- 7ä¸ªåˆ†ç±»
- 15ä¸ªè®¡ç®—å™¨
- ~480ä¸ªå†…éƒ¨é“¾æ¥

## ğŸ¯ ä¸‹ä¸€æ­¥

è¿ç§»å®Œæˆåï¼Œä½ å¯ä»¥ï¼š
1. åœ¨ http://localhost:3333 ç¼–è¾‘å†…å®¹
2. é‚€è¯·å›¢é˜Ÿæˆå‘˜åä½œ
3. è®¾ç½®å‘å¸ƒå·¥ä½œæµ
4. é…ç½®Webhookè‡ªåŠ¨éƒ¨ç½²

## ğŸ’¡ æç¤º

- ä¿ç•™åŸMDXæ–‡ä»¶ä½œä¸ºå¤‡ä»½
- Sanityå…è´¹ç‰ˆæ”¯æŒ3ä¸ªç”¨æˆ·
- å›¾ç‰‡è‡ªåŠ¨æ‰˜ç®¡åœ¨Sanity CDN
- æ”¯æŒå®æ—¶é¢„è§ˆå’Œè‰ç¨¿æ¨¡å¼
