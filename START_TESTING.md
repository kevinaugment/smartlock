# ğŸš€ å¿«é€Ÿå¯åŠ¨æµ‹è¯•æŒ‡å—

## âš¡ 5æ­¥å¯åŠ¨å®Œæ•´ç³»ç»Ÿ

### æ­¥éª¤1: åˆ›å»ºD1æ•°æ®åº“

```bash
wrangler d1 create smartlock
```

å¤åˆ¶è¿”å›çš„`database_id`ï¼Œæ›´æ–°`wrangler.toml`ï¼š
```toml
database_id = "ç²˜è´´ä½ çš„ID"
```

### æ­¥éª¤2: åˆå§‹åŒ–æ•°æ®åº“

```bash
wrangler d1 execute smartlock --file=database/schema.sql
```

### æ­¥éª¤3: è¿ç§»æ•°æ®

```bash
cd scripts && npm install && cd ..
node scripts/migrate-mdx-to-d1.js
```

### æ­¥éª¤4: å¯åŠ¨APIï¼ˆç»ˆç«¯1ï¼‰

```bash
cd api
npm install
npm run dev
```

è®¿é—®æµ‹è¯•: http://localhost:8787/health

### æ­¥éª¤5: å¯åŠ¨ç®¡ç†åå°ï¼ˆç»ˆç«¯2ï¼‰

```bash
cd admin
npm install  # é¦–æ¬¡éœ€è¦å‡ åˆ†é’Ÿ
npm run dev
```

è®¿é—®: http://localhost:5173

---

## ğŸ§ª å¿«é€Ÿæµ‹è¯•

### 1. ç™»å½•
- Email: `admin@smartlock.com`
- Password: `admin123`

### 2. æŸ¥çœ‹Dashboard
- âœ… 4ä¸ªç»Ÿè®¡å¡ç‰‡
- âœ… å¿«é€Ÿæ“ä½œ
- âœ… æœ€è¿‘æ´»åŠ¨

### 3. æ–‡ç« åˆ—è¡¨
- ç‚¹å‡»ä¾§è¾¹æ  **Articles**
- âœ… çœ‹åˆ°48ç¯‡æ–‡ç« 
- âœ… æœç´¢åŠŸèƒ½
- âœ… ç­›é€‰åŠŸèƒ½

### 4. ç¼–è¾‘æ–‡ç« 
- ç‚¹å‡»ä»»æ„æ–‡ç« çš„ç¼–è¾‘æŒ‰é’®
- âœ… Monacoç¼–è¾‘å™¨åŠ è½½
- âœ… ä¿®æ”¹å†…å®¹å¹¶ä¿å­˜

### 5. åˆ›å»ºæ–‡ç« 
- ç‚¹å‡» **New Article**
- å¡«å†™ä¿¡æ¯å¹¶ä¿å­˜
- âœ… æ–°æ–‡ç« å‡ºç°åœ¨åˆ—è¡¨

### 6. æ‰¹é‡æ“ä½œ
- å‹¾é€‰å¤šç¯‡æ–‡ç« 
- ç‚¹å‡» **Publish** æˆ– **Delete**
- âœ… æ‰¹é‡æ“ä½œæˆåŠŸ

---

## âœ… æµ‹è¯•æ¸…å•

- [ ] APIå¥åº·æ£€æŸ¥å“åº”
- [ ] ç™»å½•æˆåŠŸè·³è½¬
- [ ] Dashboardæ•°æ®æ˜¾ç¤º
- [ ] æ–‡ç« åˆ—è¡¨åŠ è½½ï¼ˆ48ç¯‡ï¼‰
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] ç­›é€‰åŠŸèƒ½æ­£å¸¸
- [ ] æ–‡ç« ç¼–è¾‘ä¿å­˜æˆåŠŸ
- [ ] æ–°å»ºæ–‡ç« æˆåŠŸ
- [ ] Monacoç¼–è¾‘å™¨æ­£å¸¸
- [ ] æ ‡ç­¾æ·»åŠ åˆ é™¤
- [ ] æ‰¹é‡æ“ä½œæˆåŠŸ
- [ ] åˆ†é¡µåŠŸèƒ½æ­£å¸¸

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: wrangler command not found
```bash
npm install -g wrangler
wrangler login
```

### Q: APIå¯åŠ¨å¤±è´¥
æ£€æŸ¥database_idæ˜¯å¦é…ç½®æ­£ç¡®

### Q: ç®¡ç†åå°ç™½å±
```bash
cd admin
rm -rf node_modules
npm install
```

### Q: ç™»å½•å¤±è´¥401
ç¡®ä¿APIæ­£åœ¨è¿è¡Œï¼ˆç»ˆç«¯1ï¼‰

### Q: æ–‡ç« åˆ—è¡¨ä¸ºç©º
è¿è¡Œè¿ç§»è„šæœ¬ï¼š
```bash
node scripts/migrate-mdx-to-d1.js
```

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
æµè§ˆå™¨ (localhost:5173)
    â†“
Reactç®¡ç†åå°
    â†“
API (localhost:8787)
    â†“
D1æ•°æ®åº“ (Cloudflare)
```

---

## ğŸ‰ æµ‹è¯•æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹ç°è±¡è¯´æ˜ç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼š

âœ… APIå“åº” `{"status":"ok"}`
âœ… ç™»å½•åçœ‹åˆ°Dashboard
âœ… æ–‡ç« åˆ—è¡¨æ˜¾ç¤º48ç¯‡æ–‡ç« 
âœ… Monacoç¼–è¾‘å™¨å¯ä»¥ç¼–è¾‘Markdown
âœ… ä¿å­˜åæ–‡ç« æ›´æ–°æˆåŠŸ
âœ… æœç´¢å’Œç­›é€‰åŠŸèƒ½æ­£å¸¸
âœ… æ‰¹é‡æ“ä½œåŠŸèƒ½æ­£å¸¸

---

## ğŸ“ ä¸‹ä¸€æ­¥

ç³»ç»Ÿæµ‹è¯•é€šè¿‡åï¼Œä½ å¯ä»¥ï¼š

1. âœ… å¼€å§‹ç®¡ç†48ç¯‡æ–‡ç« 
2. âœ… ç¼–è¾‘å’Œä¼˜åŒ–å†…å®¹
3. âœ… æ·»åŠ æ–°æ–‡ç« 
4. âœ… é…ç½®åˆ†ç±»å’Œæ ‡ç­¾
5. âœ… å‡†å¤‡ç”Ÿäº§éƒ¨ç½²

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹æµ‹è¯•ï¼**

æ‰“å¼€2ä¸ªç»ˆç«¯ï¼Œåˆ†åˆ«è¿è¡Œï¼š
```bash
# ç»ˆç«¯1
cd api && npm run dev

# ç»ˆç«¯2  
cd admin && npm run dev
```
